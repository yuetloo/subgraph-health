{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["noop","getQuery","subgraphId","query","StyledTextInput","styled","TextInput","props","height","App","useState","setSubgraphId","result","setResult","useViewport","console","log","useEffect","cancel","a","data","fetch","method","headers","body","JSON","stringify","response","json","jsonResult","getHealth","className","scrollView","primary","label","value","placeholder","wide","onChange","multiline","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2QAIA,SAASA,IACP,OAAO,KAGT,SAASC,EAASC,GAChB,MAAO,CACLC,MAAM,2CAAD,OAC+BD,EAD/B,geAsGT,IAAME,EAAkBC,kBAAOC,YAAPD,CAAH,4CACT,SAACE,GAAD,gBAAcA,EAAMC,OAAS,IAA7B,SAGGC,EA5Ef,WAAgB,IAAD,EACuBC,mBAAS,kDADhC,mBACNR,EADM,KACMS,EADN,OAEeD,mBAAS,IAFxB,mBAENE,EAFM,KAEEC,EAFF,KAGLL,EAAWM,wBAAXN,OAmCR,OAjCAO,QAAQC,IAAI,SAAUR,GAEtBS,qBAAU,WACR,IAAIC,GAAS,EAyBb,OAvBe,uCAAG,gCAAAC,EAAA,yDACXjB,EADW,uBAEdW,EAAU,IAFI,iCAKVO,EAAOnB,EAASC,GALN,SAMOmB,MAjDX,8CAiD4B,CACtCC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUN,KAXP,UAMVO,EANU,OAcXT,EAdW,kCAeWS,EAASC,OAfpB,QAeRC,EAfQ,OAgBdd,QAAQC,IAAI,UAAWI,EAAMS,GAC7BhB,EAAUY,KAAKC,UAAUG,EAAY,KAAM,IAjB7B,4CAAH,oDAqBfC,GAEO,WACLZ,GAAS,KAEV,CAAChB,IAGF,qBAAK6B,UAAU,wBAAf,SACE,qBAAKA,UAAU,cAAf,SACE,eAAC,OAAD,CAAMC,YAAY,EAAlB,UACE,cAAC,SAAD,CAAQC,QAAQ,oBAChB,eAAC,MAAD,WACE,cAAC,QAAD,CAAOC,MAAM,cAAb,SACE,cAAC,cAAD,CACEC,MAAOjC,EACPkC,YAAY,0BACZC,MAAI,EACJC,SAAU3B,MAGbT,GACC,mCACE,cAAC,QAAD,CAAOgC,MAAM,gBAAb,SACE,cAAC9B,EAAD,CACEI,OAAQA,EACR2B,MAAOvB,EACPyB,MAAI,EACJE,WAAS,EACTD,SAAUtC,mBCtFfwC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.6e15c4ed.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\nimport { Main, Box, SearchInput, Header, TextInput, Field, useViewport } from '@aragon/ui';\nimport styled from 'styled-components';\n\nfunction noop() {\n  return null;\n}\nconst GRAPH_URL = 'https://api.thegraph.com/index-node/graphql';\nfunction getQuery(subgraphId: string) {\n  return {\n    query: `\n      { indexingStatuses(subgraphs: [\"${subgraphId}\"]) {\n          synced\n          health\n          fatalError {\n            message\n            block {\n              number\n              hash\n            }\n            handler\n          }\n          chains {\n            network\n            earliestBlock {\n              number\n            }\n            chainHeadBlock {\n              number\n            }\n            latestBlock {\n              number\n            }\n          }\n        }\n      }\n    `,\n  };\n}\n\nfunction App() {\n  const [subgraphId, setSubgraphId] = useState('Qmet67pWbJPhVU5nLL6QfppkjKuyuxPtvJeP5voXidmGvo');\n  const [result, setResult] = useState('');\n  const { height } = useViewport();\n\n  console.log('height', height);\n\n  useEffect(() => {\n    let cancel = false;\n\n    const getHealth = async () => {\n      if (!subgraphId) {\n        setResult('');\n        return;\n      }\n      const data = getQuery(subgraphId);\n      const response = await fetch(GRAPH_URL, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n      });\n\n      if (!cancel) {\n        const jsonResult = await response.json();\n        console.log('respnse', data, jsonResult);\n        setResult(JSON.stringify(jsonResult, null, 2));\n      }\n    };\n\n    getHealth();\n\n    return () => {\n      cancel = true;\n    };\n  }, [subgraphId]);\n\n  return (\n    <div className=\"scroll-view-container\">\n      <div className=\"scroll-view\">\n        <Main scrollView={false}>\n          <Header primary=\"Subgraph Health\" />\n          <Box>\n            <Field label=\"Subgraph Id\">\n              <SearchInput\n                value={subgraphId}\n                placeholder=\"Subgraph Id, i.e. Qm...\"\n                wide\n                onChange={setSubgraphId}\n              />\n            </Field>\n            {subgraphId && (\n              <>\n                <Field label=\"Health status\">\n                  <StyledTextInput\n                    height={height}\n                    value={result}\n                    wide\n                    multiline\n                    onChange={noop}\n                  ></StyledTextInput>\n                </Field>\n              </>\n            )}\n          </Box>\n        </Main>\n      </div>\n    </div>\n  );\n}\n\nconst StyledTextInput = styled(TextInput)`\n  height: ${(props) => `${props.height - 300}px`};\n`;\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}